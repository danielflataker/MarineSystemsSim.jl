var documenterSearchIndex = {"docs":
[{"location":"api.html#API-reference","page":"API reference","title":"API reference","text":"This page lists the main public types and functions, grouped by purpose. See the other pages for motivation, theory, and examples.\n\n","category":"section"},{"location":"api.html#Types","page":"API reference","title":"Types","text":"","category":"section"},{"location":"api.html#Fossen-style-helpers","page":"API reference","title":"Fossen-style helpers","text":"","category":"section"},{"location":"api.html#Kinematics-and-frames","page":"API reference","title":"Kinematics and frames","text":"","category":"section"},{"location":"api.html#Core-dynamics","page":"API reference","title":"Core dynamics","text":"If additional modules (e.g. for thrusters, controllers, or 6-DOF extensions) are added later, their public API can be listed in separate sections here.","category":"section"},{"location":"api.html#MarineSystemsSim.RigidBody3DOF","page":"API reference","title":"MarineSystemsSim.RigidBody3DOF","text":"struct RigidBody3DOF{T<:Real}\n\nRigid-body parameters for 3-DOF motion in the horizontal plane.\n\nFields\n\nm::T: Mass of the vessel [mathrmkg].\nIz::T: Yaw moment of inertia about the z-axis [mathrmkg  m^2].\nxG::T: x-position of the center of gravity in the body-fixed frame [mathrmm].\n\nNotes\n\nThe 3-DOF rigid-body mass matrix is\n\nmathbfM_RB =\nbeginbmatrix\n m  0  0 \n 0  m  m x_G \n 0  m x_G  I_z\nendbmatrix\n\n\n\n\n\n","category":"type"},{"location":"api.html#MarineSystemsSim.QuadraticDamping3DOF","page":"API reference","title":"MarineSystemsSim.QuadraticDamping3DOF","text":"struct QuadraticDamping3DOF{T<:Real}\n\nQuadratic (velocity-dependent) damping parameters for the 3-DOF model.\n\nThis type stores Fossen-style manoeuvring derivatives for the diagonal approximation to the nonlinear damping matrix. They appear in the velocity-dependent damping term\n\nmathbfD_textn(boldsymbolnu)boldsymbolnu\n=\n-operatornamediag(\n  X_uulvert urvert\n  Y_vvlvert vrvert\n  N_rrlvert rrvert\n)boldsymbolnu\n\nSign convention:\n\nXuu, Yvv, Nrr correspond to the hydrodynamic derivatives X_{uu}, Y_{vv}, N_{rr} in Fossen's notation.\nIn many identification schemes these are non-positive so that the effective damping is dissipative, but this is not enforced here.\n\n\n\n\n\n","category":"type"},{"location":"api.html#MarineSystemsSim.HydroParams3DOF","page":"API reference","title":"MarineSystemsSim.HydroParams3DOF","text":"struct HydroParams3DOF{T<:Real}\n\nHydrodynamic parameters for 3-DOF surge–sway–yaw motion.\n\nThe 3-DOF vessel model is written as\n\nmathbfM dotboldsymbolnu +\nmathbfC(boldsymbolnu)boldsymbolnu +\nmathbfD(boldsymbolnu)boldsymbolnu\n= boldsymboltau\n\nwhere \\mathbf{M} = \\mathbf{M}_{RB} + \\mathbf{M}_A and \\mathbf{D} = \\mathbf{D}_\\text{lin} + \\mathbf{D}_\\text{n}(\\boldsymbol{\\nu}).\n\nHydroParams3DOF stores the hydrodynamic contribution in matrix form:\n\nM_A   — the 3×3 added-mass matrix.\nD_lin — the 3×3 linear manoeuvring damping matrix.\nD_quad — quadratic damping coefficients used to build the velocity-dependent matrix \\mathbf{D}_\\text{n}(\\boldsymbol{\\nu}).\n\nIn the standard Fossen 3-DOF surface craft model these matrices have a particular structure. That structure is not required by the core routines in this package, but it is enforced if you construct HydroParams3DOF via hydroparams_fossen3dof.\n\n\n\n\n\n","category":"type"},{"location":"api.html#MarineSystemsSim.VesselParams3DOF","page":"API reference","title":"MarineSystemsSim.VesselParams3DOF","text":"struct VesselParams3DOF{T<:Real}\n\nCollects all 3-DOF vessel parameters: rigid-body and hydrodynamics.\n\nThis is the main input data structure for the rest of the 3-DOF MSS.\n\n\n\n\n\n","category":"type"},{"location":"api.html#MarineSystemsSim.CachedVessel3DOF","page":"API reference","title":"MarineSystemsSim.CachedVessel3DOF","text":"struct CachedVessel3DOF{T<:Real}\n\nCached representation of a 3-DOF vessel model.\n\nThis type stores the physical parameters together with the assembled inertia and linear damping matrices to avoid recomputing them inside tight simulation loops.\n\nFields\n\nparams::VesselParams3DOF{T}: Rigid-body and hydrodynamic parameters.\nM::SMatrix{3,3,T}: Constant 3×3 inertia matrix mathbfM = mathbfM_RB + mathbfM_A.\nMinv::SMatrix{3,3,T}: Precomputed inverse of M.\nD_lin::SMatrix{3,3,T}: Copy of the linear damping matrix params.hydro.D_lin, used as the velocity-independent part of mathbfD(boldsymbolnu).\n\n\n\n\n\n","category":"type"},{"location":"api.html#MarineSystemsSim.hydroparams_fossen3dof","page":"API reference","title":"MarineSystemsSim.hydroparams_fossen3dof","text":"hydroparams_fossen3dof(\n    Xudot::Real,\n    Yvdot::Real,\n    Yrdot::Real,\n    Nrdot::Real,\n    Xu::Real,\n    Yv::Real,\n    Yr::Real,\n    Nv::Real,\n    Nr::Real,\n    Xuu::Real,\n    Yvv::Real,\n    Nrr::Real;\n    Xv,\n    Xr,\n    Yu,\n    Nu\n) -> HydroParams3DOF\n\n\nConstruct hydrodynamic parameters for the 3-DOF model from Fossen-style manoeuvring derivatives.\n\nThis helper maps the usual surge–sway–yaw derivatives\n\nAdded mass: Xudot, Yvdot, Yrdot, Nrdot\nLinear damping: Xu, Yv, Yr, Nv, Nr plus optional cross-terms Xv, Xr, Yu, Nu\nQuadratic damping: Xuu, Yvv, Nrr\n\nto the internal matrices M_A and D_lin and the quadratic coefficients D_quad.\n\nThe resulting added-mass matrix is\n\nmathbfM_A =\nbeginbmatrix\n- X_dotu  0               0 \n0               - Y_dotv  - Y_dotr \n0               - Y_dotr  - N_dotr\nendbmatrix\n\nassuming the simplified symmetric 3-DOF Fossen form, where the off-diagonal terms are given by a single derivative Y_dotr, so that mathbfM_A23 = mathbfM_A32 = -Y_dotr.\n\nThe linear damping matrix is\n\nmathbfD_textlin =\n-beginbmatrix\nX_u  X_v  X_r \nY_u  Y_v  Y_r \nN_u  N_v  N_r\nendbmatrix\n\nThe quadratic derivatives Xuu, Yvv, Nrr are stored in QuadraticDamping3DOF and used to build the diagonal approximation to \\mathbf{D}_\\text{n}(\\boldsymbol{\\nu}).\n\nAll derivatives are given with Fossen's sign convention; no sign flips are applied to the inputs.\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.rotation","page":"API reference","title":"MarineSystemsSim.rotation","text":"rotation(ψ::Real) -> Any\n\n\nRotation matrix from body-fixed to Earth-fixed frame in the horizontal plane.\n\nThe mapping is\n\ndotboldsymboleta =\nR(psi)boldsymbolnu quad\nboldsymboleta = x y psi^T\nboldsymbolnu = u v r^T\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.kinematics","page":"API reference","title":"MarineSystemsSim.kinematics","text":"kinematics(\n    η::StaticArraysCore.SArray{Tuple{3}, S<:Real, 1, 3},\n    ν::StaticArraysCore.SArray{Tuple{3}, S<:Real, 1, 3}\n) -> Any\n\n\nCompute the kinematic relation\n\ndoteta = R(psi)nu\n\nfor 3-DOF motion in the horizontal plane.\n\neta = x y psi^T is the position and yaw angle,\nnu = u v r^T is the body-fixed velocity vector.\n\nReturns an SVector{3} representing doteta.\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.mass_matrix","page":"API reference","title":"MarineSystemsSim.mass_matrix","text":"mass_matrix(params::VesselParams3DOF{T<:Real}) -> Any\n\n\nBuild the 3times 3 rigid-body + added-mass inertia matrix in surge–sway–yaw:\n\nmathbfM = mathbfM_RB + mathbfM_A\n\nwhere M_RB is built from RigidBody3DOF and M_A from HydroParams3DOF.\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.damping_forces","page":"API reference","title":"MarineSystemsSim.damping_forces","text":"damping_forces(\n    ν::StaticArraysCore.SArray{Tuple{3}, S<:Real, 1, 3},\n    model::CachedVessel3DOF{T<:Real}\n) -> Any\n\n\nCompute hydrodynamic damping forces/moments in surge, sway and yaw.\n\nGiven body-fixed velocity\n\nboldsymbolnu = u v r^T\n\nthis function evaluates the total damping matrix\n\nmathbfD(boldsymbolnu) =\nmathbfD_textlin + mathbfD_textn(boldsymbolnu)\n\nand returns the product\n\nmathbfD(boldsymbolnu)boldsymbolnu\n\nHere D_lin is the cached linear damping matrix from the model and \\mathbf{D}_\\text{n}(\\boldsymbol{\\nu}) is constructed from the quadratic coefficients stored in model.params.hydro.D_quad.\n\nReturns an SVector{3} containing the damping forces/moment [X_d, Y_d, N_d]^T.\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.coriolis_forces","page":"API reference","title":"MarineSystemsSim.coriolis_forces","text":"coriolis_forces(\n    nu::StaticArraysCore.SArray{Tuple{3}, S<:Real, 1, 3},\n    model::CachedVessel3DOF{T<:Real}\n) -> Any\n\n\nCompute the Coriolis/centripetal term mathbfC(boldsymbolnu)boldsymbolnu for the 3-DOF model.\n\nThe implementation constructs both the rigid-body part mathbfC_RB(boldsymbolnu) and the added-mass part mathbfC_A(boldsymbolnu) as 3times 3 matrices following the standard Fossen 3-DOF surface craft model, and returns\n\nmathbfC(boldsymbolnu)boldsymbolnu\n=\nbigl( mathbfC_RB(boldsymbolnu)\n      + mathbfC_A(boldsymbolnu) bigr)  boldsymbolnu\n\nReturns an SVector{3} representing mathbfC(boldsymbolnu)  boldsymbolnu.\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.body_dynamics","page":"API reference","title":"MarineSystemsSim.body_dynamics","text":"body_dynamics(\n    nu::StaticArraysCore.SArray{Tuple{3}, S<:Real, 1, 3},\n    model::CachedVessel3DOF{T<:Real},\n    tau::StaticArraysCore.SArray{Tuple{3}, R<:Real, 1, 3}\n) -> Any\n\n\nCompute the body-fixed acceleration dotnu for a 3-DOF vessel model given the generalized forces tau.\n\nThe dynamics are\n\nmathbfM dotboldsymbolnu +\nmathbfC(boldsymbolnu)boldsymbolnu +\nmathbfD(boldsymbolnu)boldsymbolnu = boldsymboltau\n\nso that\n\ndotboldsymbolnu =\nmathbfM^-1 (boldsymboltau -\nmathbfC(boldsymbolnu)boldsymbolnu -\nmathbfD(boldsymbolnu)boldsymbolnu)\n\nThis version neglects environmental loads (they must be included in τ by the caller if needed).\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.vessel_dynamics","page":"API reference","title":"MarineSystemsSim.vessel_dynamics","text":"vessel_dynamics(\n    X::StaticArraysCore.SArray{Tuple{6}, S<:Real, 1, 6},\n    model::CachedVessel3DOF{T<:Real},\n    tau::StaticArraysCore.SArray{Tuple{3}, R<:Real, 1, 3}\n) -> Any\n\n\nComputes the full 3-DOF state derivative for the vessel model.\n\nThe state is ordered as\n\nmathbfX =\nx y psi u v r^T\n\nwhere\n\nx, y are the Earth-fixed position coordinates,\n\npsi is the yaw angle,\n\nu, v, r are body-fixed surge, sway, and yaw rates.\n\nWe split the state into\n\nboldsymboleta = x y psi^T qquad boldsymbolnu = u v r^T\n\nThe kinematics are\n\ndotboldsymboleta = mathbfR(psi)  boldsymbolnu\n\nand the dynamics are\n\nmathbfM dotboldsymbolnu +\nmathbfC(boldsymbolnu)boldsymbolnu +\nmathbfD(boldsymbolnu)boldsymbolnu = boldsymboltau\n\nso that\n\ndotboldsymbolnu =\nmathbfM^-1 (boldsymboltau -\nmathbfC(boldsymbolnu)boldsymbolnu -\nmathbfD(boldsymbolnu)boldsymbolnu)\n\nThe input tau is a 3times 1 vector of generalized forces/moments in surge, sway, and yaw.\n\nThe function returns the state derivative\n\ndotmathbfX =\ndotx doty dotpsi dotu dotv dotr^T\n\nas an SVector{6}.\n\n\n\n\n\n","category":"function"},{"location":"api.html#MarineSystemsSim.build_cached_vessel","page":"API reference","title":"MarineSystemsSim.build_cached_vessel","text":"build_cached_vessel(\n    params::VesselParams3DOF{T<:Real};\n    check_physical\n) -> CachedVessel3DOF\n\n\nConstruct a cached 3-DOF model from physical parameters.\n\n\n\n\n\n","category":"function"},{"location":"getting_started.html#Getting-started","page":"Getting started","title":"Getting started","text":"This page walks through two typical workflows:\n\nFossen-style quick start (recommended): use hydroparams_fossen3dof with manoeuvring derivatives.\nLower-level setup: build HydroParams3DOF from your own matrices.\n\nWe assume you will also use an ODE solver, e.g.:\n\nusing DifferentialEquations   # or OrdinaryDiffEq if you prefer\n\n","category":"section"},{"location":"getting_started.html#1.-Quick-start:-Fossen-style-derivatives","page":"Getting started","title":"1. Quick start: Fossen-style derivatives","text":"","category":"section"},{"location":"getting_started.html#1.1-Define-parameters","page":"Getting started","title":"1.1 Define parameters","text":"The 3-DOF model uses:\n\nRigidBody3DOF for mass, inertia, and CG position,\nHydroParams3DOF for added mass and damping,\nVesselParams3DOF as a container,\nhydroparams_fossen3dof as a convenience constructor from Fossen-style derivatives.\n\nusing MarineSystemsSim\nusing StaticArrays\n\n# Rigid-body parameters\nrb = RigidBody3DOF(10.0, 25.0, 1.5)\n\n# Hydrodynamic coefficients (Fossen-style)\nXudot =  1.0\nYvdot =  2.0\nYrdot =  0.3\nNrdot =  0.7\n\nXu  = -1.0\nYv  = -0.5\nYr  = -0.2\nNv  = -0.3\nNr  = -0.7\n\nXuu = -0.1\nYvv = -0.2\nNrr = -0.3\n\nhydro = hydroparams_fossen3dof(\n    Xudot, Yvdot, Yrdot, Nrdot,\n    Xu,    Yv,    Yr,    Nv,    Nr,\n    Xuu,   Yvv,   Nrr;\n    # Optional cross-derivatives:\n    Xv = 0.0,\n    Xr = 0.0,\n    Yu = 0.0,\n    Nu = 0.0,\n)\n\nparams = VesselParams3DOF(rb, hydro)","category":"section"},{"location":"getting_started.html#1.2-Build-a-cached-model","page":"Getting started","title":"1.2 Build a cached model","text":"build_cached_vessel precomputes:\n\nthe 3×3 inertia matrix M = M_RB + M_A,\nits inverse Minv,\nthe linear damping matrix D_lin.\n\nThis is convenient (and faster) if you simulate many steps with fixed parameters.\n\nmodel = build_cached_vessel(params)\n\nThe resulting CachedVessel3DOF is what you pass to your dynamics and ODE solvers.","category":"section"},{"location":"getting_started.html#1.3-Choose-state-and-input","page":"Getting started","title":"1.3 Choose state and input","text":"The 3-DOF state is\n\nmathbfX = x y psi u v r^T\n\nwhere:\n\nx, y – horizontal position (Earth-fixed frame),\nψ – yaw angle,\nu, v – surge and sway velocities (body frame),\nr – yaw rate.\n\nExample initial condition and input:\n\nX0 = @SVector [0.0, 0.0, 0.0,   # x, y, ψ\n               0.0, 0.0, 0.0]   # u, v, r\n\nτ  = @SVector [1.0, 0.0, 0.0]   # constant generalized forces in surge, sway, yaw","category":"section"},{"location":"getting_started.html#1.4-Define-the-right-hand-side","page":"Getting started","title":"1.4 Define the right-hand side","text":"The core high-level function is vessel_dynamics, which computes Ẋ from state, model, and input.\n\nOut-of-place version:\n\nf(X, p, t) = vessel_dynamics(SVector{6}(X), p, τ)\n\nIf your solver expects an in-place form, you can wrap it as:\n\nfunction f!(dX, X, p, t)\n    dX .= f(X, p, t)\n    return nothing\nend","category":"section"},{"location":"getting_started.html#1.5-Solve-the-ODE","page":"Getting started","title":"1.5 Solve the ODE","text":"Here is an example using DifferentialEquations.jl:\n\nusing DifferentialEquations\n\nprob = ODEProblem(\n    f!,              # in-place RHS\n    collect(X0),     # ODEProblem likes a plain Vector\n    (0.0, 100.0),    # time span\n    model,           # parameters (CachedVessel3DOF)\n)\n\nsol = solve(prob, Tsit5(); reltol = 1e-8, abstol = 1e-8)\n\nYou can now inspect the time series:\n\nx = sol[1, :]\ny = sol[2, :]\nψ = sol[3, :]\nu = sol[4, :]\nv = sol[5, :]\nr = sol[6, :]\n\nand plot them with your preferred plotting library.\n\n","category":"section"},{"location":"getting_started.html#2.-Lower-level-usage:-build-HydroParams3DOF-by-hand","page":"Getting started","title":"2. Lower-level usage: build HydroParams3DOF by hand","text":"Sometimes you already have the hydrodynamic matrices in physical form (e.g. from CFD, your own identification code, or another model that does not use Fossen derivatives directly). In that case you can construct HydroParams3DOF manually.","category":"section"},{"location":"getting_started.html#2.1-Rigid-body-parameters","page":"Getting started","title":"2.1 Rigid-body parameters","text":"Same as before:\n\nrb = RigidBody3DOF(10.0, 25.0, 1.5)","category":"section"},{"location":"getting_started.html#2.2-Added-mass-and-damping-matrices","page":"Getting started","title":"2.2 Added mass and damping matrices","text":"You provide:\n\nM_A: the 3×3 added-mass matrix (physical sign),\nD_lin: the 3×3 linear damping matrix such that D_lin * ν is the physical linear damping force/moment,\nQuadraticDamping3DOF: coefficients used to build the quadratic damping matrix internally.\n\nusing StaticArrays\n\n# Example: diagonal added mass\nM_A = @SMatrix [\n    1.0   0.0   0.0;\n    0.0   2.0   0.0;\n    0.0   0.0   0.5,\n]\n\n# Example: diagonal linear damping (positive diagonal → dissipative)\nD_lin = @SMatrix [\n    1.0   0.0   0.0;\n    0.0   2.0   0.0;\n    0.0   0.0   3.0,\n]\n\n# Quadratic damping coefficients. When constructed via\n# hydroparams_fossen3dof these are Fossen-style derivatives Xuu,Yvv,Nrr.\nD_quad = QuadraticDamping3DOF(\n    -0.1,   # Xuu\n    -0.2,   # Yvv\n    -0.3,   # Nrr\n)\n\nhydro = HydroParams3DOF(M_A, D_lin, D_quad)\nparams = VesselParams3DOF(rb, hydro)\nmodel  = build_cached_vessel(params)\n\nFrom here you can use the same high-level functions as before:\n\nν   = @SVector [1.0, 0.2, 0.01]   # body-fixed velocity [u, v, r]\nτ   = @SVector [0.0, 0.0, 0.0]\n\nDν  = damping_forces(ν, model)    # D(ν) ν\nCν  = coriolis_forces(ν, model)   # C(ν) ν\nν̇   = body_dynamics(ν, model, τ) # ν̇ given τ\n\nψ    = 0.3\nη    = @SVector [0.0, 0.0, ψ]\nη̇   = kinematics(η, ν)           # [ẋ, ẏ, ψ̇]\n\nThis “by hand” workflow gives you full control over the matrices while reusing the kinematics and dynamics code from MarineSystemsSim.jl.","category":"section"},{"location":"getting_started.html#3.-Units-and-automatic-differentiation","page":"Getting started","title":"3. Units and automatic differentiation","text":"","category":"section"},{"location":"getting_started.html#Units-with-Unitful.jl","page":"Getting started","title":"Units with Unitful.jl","text":"RigidBody3DOF has a constructor that accepts Unitful quantities and converts them to SI units internally:\n\njulia> using Unitful\n\njulia> rb = RigidBody3DOF(10_000u\"kg\", 2.0e6u\"kg*m^2\", 1.5u\"m\");\n\njulia> rb.m\n10000.0\n\njulia> rb.xG\n1.5\n\nThis allows you to work in whatever mass/length units you like at the API boundary while keeping the internal state dimensionless and fast.","category":"section"},{"location":"getting_started.html#Automatic-differentiation-with-ForwardDiff.jl","page":"Getting started","title":"Automatic differentiation with ForwardDiff.jl","text":"The dynamics functions are written to be compatible with dual numbers, so you can differentiate them with ForwardDiff.jl:\n\njulia> using ForwardDiff, StaticArrays\n\njulia> rb = RigidBody3DOF(10.0, 20.0, 0.0);\n\njulia> hydro = hydroparams_fossen3dof(\n           0.1, 0.2, 0.0, 0.3,\n           -1.0, -1.0, -1.0, -1.0, -1.0,\n           -0.1, -0.1, -0.1,\n       );\n\njulia> params = VesselParams3DOF(rb, hydro);\n\njulia> model = build_cached_vessel(params);\n\njulia> ν0 = @SVector [1.0, 0.5, -0.2];\n\njulia> τ0 = @SVector [0.0, 0.0, 0.0];\n\njulia> f(ν_vec) = body_dynamics(SVector{3}(ν_vec), model, τ0);\n\njulia> J = ForwardDiff.jacobian(f, collect(ν0));\n\njulia> size(J)\n(3, 3)\n\nHere J is the Jacobian (\\partial \\dot{\\nu} / \\partial \\nu), which you can use for linearization, MPC, or sensitivity analysis.","category":"section"},{"location":"model_3dof.html#3-DOF-model","page":"3-DOF model","title":"3-DOF model","text":"This page summarizes the 3-DOF horizontal-plane model implemented in MarineSystemsSim.jl and how it maps to the main API functions.\n\n","category":"section"},{"location":"model_3dof.html#Equation-form","page":"3-DOF model","title":"Equation form","text":"We follow the standard Fossen 3-DOF surface craft model in surge–sway–yaw:\n\nmathbfM dotboldsymbolnu +\nmathbfC(boldsymbolnu) boldsymbolnu +\nmathbfD(boldsymbolnu) boldsymbolnu\n= boldsymboltau\n\nwith\n\nbody-fixed velocity vector (\\boldsymbol{\\nu} = [u, v, r]^T),\ngeneralized forces/moments (\\boldsymbol{\\tau} = [\\taux, \\tauy, \\tau_\\psi]^T),\nconstant inertia matrix (\\mathbf{M} = \\mathbf{M}{RB} + \\mathbf{M}A),\nCoriolis/centripetal term (\\mathbf{C}(\\boldsymbol{\\nu}) \\boldsymbol{\\nu}),\nlinear + quadratic hydrodynamic damping (\\mathbf{D}(\\boldsymbol{\\nu}) \\boldsymbol{\\nu}).\n\nThe kinematics relate body-fixed velocities to Earth-fixed pose (\\boldsymbol{\\eta} = [x, y, \\psi]^T) via\n\ndotboldsymboleta = mathbfR(psi) boldsymbolnu\n\nThe full state is\n\nmathbfX =\nx y psi u v r^T\n\n","category":"section"},{"location":"model_3dof.html#Parameters-and-mass-matrix","page":"3-DOF model","title":"Parameters and mass matrix","text":"The rigid-body parameters and hydrodynamic coefficients are stored in RigidBody3DOF, QuadraticDamping3DOF, HydroParams3DOF and VesselParams3DOF. The assembled inertia and damping are cached in CachedVessel3DOF, and the inertia matrix is constructed by mass_matrix and cached via build_cached_vessel.","category":"section"},{"location":"model_3dof.html#Rigid-body-mass","page":"3-DOF model","title":"Rigid-body mass","text":"For a surface vessel with mass m, yaw inertia Iz and centre of gravity at (x_G, 0) in the body-fixed frame, the rigid-body mass matrix is\n\nmathbfM_RB =\nbeginbmatrix\n m    0    0 \n 0    m  m x_G \n 0  m x_G  I_z\nendbmatrix\n\nThis is assembled internally from RigidBody3DOF by a private helper and used by mass_matrix.","category":"section"},{"location":"model_3dof.html#Added-mass","page":"3-DOF model","title":"Added mass","text":"The added-mass matrix (\\mathbf{M}A) is stored directly inside HydroParams3DOF. When constructed via [`hydroparamsfossen3dof`](@ref) it has the simplified Fossen 3-DOF structure\n\nmathbfM_A =\nbeginbmatrix\n- X_dotu  0               0 \n0              - Y_dotv   - Y_dotr \n0              - Y_dotr   - N_dotr\nendbmatrix\n\nwhere (X{\\dot{u}}, Y{\\dot{v}}, Y{\\dot{r}}, N{\\dot{r}}) are the usual Fossen added-mass derivatives.\n\nThe total inertia matrix is\n\nmathbfM = mathbfM_RB + mathbfM_A\n\nand is constructed by mass_matrix and cached in CachedVessel3DOF.\n\n","category":"section"},{"location":"model_3dof.html#Coriolis-and-centripetal-terms","page":"3-DOF model","title":"Coriolis and centripetal terms","text":"The Coriolis/centripetal contribution is modeled as\n\nmathbfC(boldsymbolnu)  boldsymbolnu\n=\nbigl(\nmathbfC_RB(boldsymbolnu)\n+\nmathbfC_A(boldsymbolnu)\nbigr) boldsymbolnu\n\nwith rigid-body and added-mass parts following Fossen’s 3-DOF expressions. Both matrices are constructed internally from the parameters and satisfy\n\nboldsymbolnu^T mathbfC_RB(boldsymbolnu)  boldsymbolnu\n= 0\nqquad\nboldsymbolnu^T mathbfC_A(boldsymbolnu)  boldsymbolnu\n= 0\n\nso that they do not create or dissipate energy.\n\nThe product mathbfC(boldsymbolnu)  boldsymbolnu is provided by coriolis_forces.\n\n","category":"section"},{"location":"model_3dof.html#Hydrodynamic-damping","page":"3-DOF model","title":"Hydrodynamic damping","text":"Hydrodynamic damping is represented as a linear part plus a diagonal quadratic part:\n\nmathbfD(boldsymbolnu)  boldsymbolnu\n=\nmathbfD_textlin boldsymbolnu\n+\nmathbfD_textn(boldsymbolnu)  boldsymbolnu","category":"section"},{"location":"model_3dof.html#Linear-damping","page":"3-DOF model","title":"Linear damping","text":"The physical linear damping matrix (\\mathbf{D}_{\\text{lin}}) is stored directly in HydroParams3DOF and cached in CachedVessel3DOF. It is used exactly as it appears in the equations:\n\nmathbfD_textlin boldsymbolnu\n\nWhen hydroparams_fossen3dof is used, (\\mathbf{D}{\\text{lin}}) is constructed from the Fossen derivatives Xu, Xv, Xr, \\dots$ as\n\nmathbfD_textlin =\n- beginbmatrix\nX_u  X_v  X_r \nY_u  Y_v  Y_r \nN_u  N_v  N_r\nendbmatrix","category":"section"},{"location":"model_3dof.html#Quadratic-damping","page":"3-DOF model","title":"Quadratic damping","text":"The quadratic damping coefficients are stored in QuadraticDamping3DOF, holding the entries X_uu Y_vv N_rr. For a given velocity boldsymbolnu = u v r^T, the diagonal quadratic matrix is\n\nmathbfD_textn(boldsymbolnu)\n=\n- operatornamediagbigl(\nX_uu u\nY_vv v\nN_rr r\nbigr)\n\nso that the total damping becomes\n\nmathbfD(boldsymbolnu) =\nmathbfD_textlin + mathbfD_textn(boldsymbolnu)\n\nThe product mathbfD(boldsymbolnu)  boldsymbolnu is computed by damping_forces.\n\n","category":"section"},{"location":"model_3dof.html#Kinematics","page":"3-DOF model","title":"Kinematics","text":"The 3-DOF kinematics in the horizontal plane are\n\ndotboldsymboleta = mathbfR(psi) boldsymbolnu\n\nwhere mathbfR(psi) is the rotation from body-fixed to Earth-fixed frame.\n\nrotation returns the 3 times 3 rotation matrix mathbfR(psi), and kinematics computes dotboldsymboleta for a given pose and velocity.\n\nrotation(ψ) returns the 3×3 rotation matrix mathbfR(psi),\nkinematics(η, ν) computes dotboldsymboleta for a given pose and velocity.\n\n","category":"section"},{"location":"model_3dof.html#Full-state-dynamics","page":"3-DOF model","title":"Full state dynamics","text":"Combining kinematics and dynamics, the full state derivative is\n\ndotmathbfX =\ndotx doty dotpsi dotu dotv dotr^T\n\nwhere\n\ndotboldsymboleta =\nmathbfR(psi) boldsymbolnu\nqquad\ndotboldsymbolnu =\nmathbfM^-1 bigl(\nboldsymboltau\n- mathbfC(boldsymbolnu) boldsymbolnu\n- mathbfD(boldsymbolnu) boldsymbolnu\nbigr)\n\nThe body dynamics are computed by body_dynamics, and the full state derivative by vessel_dynamics, which splits the state into eta and nu, applies the kinematics and dynamics, and returns the combined 6-element derivative.\n\nbody_dynamics computes (\\dot{\\boldsymbol{\\nu}}),\nvessel_dynamics splits X into (η, ν), computes η̇ and ν̇, and returns the full 6-element state derivative.\n\nThese functions are designed to be used directly with differential equation solvers and automatic differentiation.","category":"section"},{"location":"index.html#MarineSystemsSim.jl","page":"Home","title":"MarineSystemsSim.jl","text":"MarineSystemsSim.jl is a small, Fossen-inspired library for 3-DOF surface vessel models in Julia. The goals are:\n\na clean 3-DOF surge–sway–yaw model in standard Fossen form,\nhigh performance (StaticArrays, cached mass matrix and inverse),\neasy integration with DifferentialEquations.jl and automatic differentiation.","category":"section"},{"location":"index.html#What-the-package-provides","page":"Home","title":"What the package provides","text":"Parameter types\n\nRigidBody3DOF: mass, yaw inertia, and CG position.\nQuadraticDamping3DOF: quadratic manoeuvring derivatives.\nHydroParams3DOF: added mass and damping matrices.\nVesselParams3DOF: rigid body + hydrodynamics in one bundle.\nCachedVessel3DOF: preassembled inertia, inverse, and linear damping.\n\nKinematics and frames\n\nrotation: body → Earth rotation matrix in the horizontal plane.\nkinematics: computes doteta from eta and nu.\n\nCore dynamics\n\nmass_matrix: builds mathbfM = mathbfM_RB + mathbfM_A.\nbuild_cached_vessel: caches mathbfM, mathbfM^-1 and mathbfD_textlin.\ndamping_forces: evaluates mathbfD(nu)  nu.\ncoriolis_forces: evaluates mathbfC(nu)  nu.\nbody_dynamics: computes dotnu.\nvessel_dynamics: computes the full 6-state derivative.\n\nSee:\n\nGetting started for a complete end-to-end example with an ODE solver.\n3-DOF model for the equations and how they map to code.\nAPI reference for a grouped list of types and functions.","category":"section"},{"location":"index.html#A-tiny-taste-of-the-API","page":"Home","title":"A tiny taste of the API","text":"Here is a minimal sketch of how the pieces fit together. For a full runnable example (including an ODE solver), see Getting started.\n\nusing MarineSystemsSim\nusing StaticArrays\n\n# 1. Rigid body\nrb = RigidBody3DOF(m, Iz, xG)\n\n# 2. Hydrodynamics (Fossen-style derivatives)\nhydro = hydroparams_fossen3dof(\n    Xudot, Yvdot, Yrdot, Nrdot,   # added mass\n    Xu,    Yv,    Yr,    Nv, Nr,  # linear damping\n    Xuu,   Yvv,   Nrr,            # quadratic damping\n)\n\n# 3. Bundle parameters and build cached model\nparams = VesselParams3DOF(rb, hydro)\nmodel  = build_cached_vessel(params)\n\n# 4. Evaluate state derivative once\nX = @SVector [x, y, ψ, u, v, r]   # 6×1 state\nτ = @SVector [τx, τy, τψ]         # 3×1 generalized forces\n\nXdot = vessel_dynamics(X, model, τ)\n\nThis is the same structure you use inside an ODE right-hand side; the Getting started page shows the full workflow with OrdinaryDiffEq.jl and concrete numbers.","category":"section"}]
}
